<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>üöÄ UI & Image Capture Test - Design Intelligence MVP</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
      line-height: 1.5;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #1a202c;
      padding: 20px;
      margin: 0;
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 16px;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      overflow: hidden;
    }

    .header {
      background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 100%);
      color: white;
      padding: 32px;
      text-align: center;
    }

    h1 {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }

    .subtitle {
      opacity: 0.9;
      font-size: 1.1rem;
      font-weight: 500;
    }

    .content {
      padding: 32px;
    }

    .test-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      margin-bottom: 32px;
    }

    .test-card {
      background: #f8fafc;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      padding: 24px;
      transition: all 0.3s ease;
    }

    .test-card:hover {
      border-color: #667eea;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }

    .test-card h3 {
      color: #1e3a8a;
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .test-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      margin-top: 16px;
    }

    .test-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 15px -3px rgba(102, 126, 234, 0.4);
    }

    .status {
      margin-top: 12px;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 500;
    }

    .status.success {
      background: #dcfce7;
      color: #166534;
      border: 1px solid #bbf7d0;
    }

    .status.error {
      background: #fef2f2;
      color: #dc2626;
      border: 1px solid #fecaca;
    }

    .status.pending {
      background: #fef3c7;
      color: #d97706;
      border: 1px solid #fed7aa;
    }

    .full-width {
      grid-column: 1 / -1;
    }

    .feature-showcase {
      background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
      border: 2px solid #0ea5e9;
      border-radius: 12px;
      padding: 24px;
      margin-top: 24px;
    }

    .feature-showcase h3 {
      color: #0c4a6e;
      font-size: 1.5rem;
      margin-bottom: 16px;
    }

    .next-steps {
      background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
      border: 2px solid #22c55e;
      border-radius: 12px;
      padding: 24px;
      margin-top: 24px;
    }

    .next-steps h3 {
      color: #14532d;
      font-size: 1.5rem;
      margin-bottom: 16px;
    }

    .next-steps ul {
      list-style: none;
      padding: 0;
    }

    .next-steps li {
      margin: 8px 0;
      padding-left: 24px;
      position: relative;
    }

    .next-steps li::before {
      content: "üöÄ";
      position: absolute;
      left: 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>
        üíé Design Intelligence Layer
        <span style="font-size: 1.5rem;">MVP Testing</span>
      </h1>
      <div class="subtitle">
        Testing enhanced context preview and image capture functionality
      </div>
    </div>

    <div class="content">
      <div class="test-grid">
        <div class="test-card">
          <h3>üé® Standalone UI Test</h3>
          <p>Test the enhanced standalone UI with context preview functionality and mock screenshot generation.</p>
          <button class="test-button" onclick="testStandaloneUI()">
            Open Standalone UI
          </button>
          <div id="standalone-status" class="status" style="display: none;"></div>
        </div>

        <div class="test-card">
          <h3>üîå Figma Plugin UI Test</h3>
          <p>Test the Figma plugin UI with live context capture and enhanced preview system.</p>
          <button class="test-button" onclick="testFigmaPlugin()">
            Open Plugin UI
          </button>
          <div id="plugin-status" class="status" style="display: none;"></div>
        </div>

        <div class="test-card">
          <h3>üì∏ Context Preview Test</h3>
          <p>Test the context preview component with all features: editing, metrics, validation.</p>
          <button class="test-button" onclick="testContextPreview()">
            Test Context Preview
          </button>
          <div id="preview-status" class="status" style="display: none;"></div>
        </div>

        <div class="test-card">
          <h3>üîó MCP Server Test</h3>
          <p>Test connection to MCP server and basic API functionality.</p>
          <button class="test-button" onclick="testMCPServer()">
            Test MCP Connection
          </button>
          <div id="mcp-status" class="status" style="display: none;"></div>
        </div>

        <div class="test-card full-width">
          <h3>üß™ Full Integration Test</h3>
          <p>Test the complete flow: context collection ‚Üí preview ‚Üí generation with enhanced intelligence.</p>
          <button class="test-button" onclick="testFullIntegration()">
            Run Full Integration Test
          </button>
          <div id="integration-status" class="status" style="display: none;"></div>
        </div>
      </div>

      <div class="feature-showcase">
        <h3>üéØ What We're Testing</h3>
        <ul>
          <li><strong>Enhanced Context Preview:</strong> Visual display of all context data with editing capabilities</li>
          <li><strong>Mock Screenshot Generation:</strong> Intelligent placeholder images for design context</li>
          <li><strong>Design Intelligence Foundations:</strong> Semantic data extraction and classification</li>
          <li><strong>UI Synchronization:</strong> Keeping Web UI and Figma UI in perfect sync</li>
          <li><strong>MCP Integration:</strong> Enhanced server endpoints for design intelligence</li>
        </ul>
      </div>

      <div class="next-steps">
        <h3>üöÄ Next Steps to the Gold Mine</h3>
        <ul>
          <li><strong>Phase 1:</strong> Implement basic semantic extraction pipeline</li>
          <li><strong>Phase 2:</strong> Add ML-powered component classification</li>
          <li><strong>Phase 3:</strong> Build design system matching algorithms</li>
          <li><strong>Phase 4:</strong> Create production Design Intelligence API</li>
          <li><strong>Phase 5:</strong> Launch the platform that everyone will license</li>
        </ul>
      </div>
    </div>
  </div>

  <script>
    function updateStatus(elementId, message, type = 'pending') {
      const statusEl = document.getElementById(elementId);
      statusEl.textContent = message;
      statusEl.className = `status ${type}`;
      statusEl.style.display = 'block';
    }

    function testStandaloneUI() {
      updateStatus('standalone-status', 'Opening standalone UI...', 'pending');
      window.open('http://localhost:3000/ui/index.html', '_blank');
      setTimeout(() => {
        updateStatus('standalone-status', '‚úÖ Standalone UI opened successfully', 'success');
      }, 1000);
    }

    function testFigmaPlugin() {
      updateStatus('plugin-status', 'Opening Figma plugin UI...', 'pending');
      window.open('http://localhost:3000/ui/plugin/index.html', '_blank');
      setTimeout(() => {
        updateStatus('plugin-status', '‚úÖ Plugin UI opened successfully', 'success');
      }, 1000);
    }

    function testContextPreview() {
      updateStatus('preview-status', 'Opening context preview test...', 'pending');
      window.open('http://localhost:3000/ui/test/context-preview-test.html', '_blank');
      setTimeout(() => {
        updateStatus('preview-status', '‚úÖ Context preview test opened successfully', 'success');
      }, 1000);
    }

    async function testMCPServer() {
      updateStatus('mcp-status', 'Testing MCP server connection...', 'pending');
      
      try {
        const response = await fetch('http://localhost:3000/');
        if (response.ok) {
          updateStatus('mcp-status', '‚úÖ MCP server is running and responsive', 'success');
        } else {
          updateStatus('mcp-status', '‚ö†Ô∏è MCP server responded but with error', 'error');
        }
      } catch (error) {
        updateStatus('mcp-status', '‚ùå MCP server connection failed', 'error');
      }
    }

    async function testFullIntegration() {
      updateStatus('integration-status', 'Running full integration test...', 'pending');
      
      // Simulate a full flow test
      const steps = [
        'Testing context collection...',
        'Testing context preview display...',
        'Testing mock screenshot generation...',
        'Testing enhanced LLM context preparation...',
        'Testing design intelligence extraction...'
      ];

      for (let i = 0; i < steps.length; i++) {
        updateStatus('integration-status', steps[i], 'pending');
        await new Promise(resolve => setTimeout(resolve, 1000));
      }

      updateStatus('integration-status', 'üéâ Full integration test completed! Ready for Design Intelligence development.', 'success');
    }

    // Auto-test MCP server on load
    document.addEventListener('DOMContentLoaded', () => {
      setTimeout(testMCPServer, 1000);
    });
  </script>
</body>
</html>