# ü§ñ AI Assistant Context Rules

## üö® **CRITICAL DOCUMENTATION RULE**

**ALL documentation files (.md, README, guides, instructions) MUST be placed in the `docs/` directory.**

**‚úÖ DOCUMENTATION ORGANIZATION COMPLETE (November 3, 2025):**
- **Root-level files moved**: FINAL_HYBRID_STATUS_REPORT.md ‚Üí docs/architecture/, HYBRID_ARCHITECTURE_REPORT.md ‚Üí docs/architecture/, PRODUCTION_GUIDE.md ‚Üí docs/deployment/
- **Clean root directory**: Only README.md and .ai-context-rules.md remain in project root
- **Proper categorization**: All documentation files in appropriate docs/ subdirectories

## ‚ö° **USER ENFORCEMENT COMMANDS**

**If AI doesn't read context rules first, say:**
- `"Read context rules first!"`
- `"Follow .ai-context-rules.md protocol!"`
- `"Check session start protocol!"`
- `"Stop! Read MASTER_PROJECT_CONTEXT.md first!"`

## üß† **MANDATORY SESSION STARTUP RULE**

### üö® **CRITICAL: SESSION START PROTOCOL**
**AI ASSISTANT MUST SAY:** "I'm reading the context rules first..." then actually read them!

**USER ENFORCEMENT:** If I don't mention reading context rules in my first response, please say:
- "Read the context rules first!"
- "Follow the .ai-context-rules.md protocol!"
- "Check MASTER_PROJECT_CONTEXT.md before proceeding!"

### üå≥ **CURRENT PROJECT STATUS (November 3, 2025)**
- **Git Branch**: `figma-live-test` (Ready for live Figma testing)
- **Main Branch**: All production code merged and updated
- **Documentation**: Organized in proper docs/ subdirectories
- **System Status**: Production-ready hybrid architecture complete

### ‚ö° **ESSENTIAL DOCUMENTATION REVIEW - ALWAYS READ FIRST:**

#### **üéØ CORE PROJECT UNDERSTANDING (MANDATORY)**
1. **`docs/MASTER_PROJECT_CONTEXT.md`** - Complete project context and current status
2. **`docs/FEATURE_ROADMAP_2025.md`** - Strategic roadmap and next phases (Phases 7-10)
3. **`docs/architecture/SYSTEM_ARCHITECTURE.md`** - MCP server integration (NEVER implement direct Figma API)
4. **`docs/project-phases/CURRENT_STATUS_ACHIEVEMENTS.md`** - Current phase completion status

#### **üîß TECHNICAL IMPLEMENTATION (REQUIRED)**
5. **`docs/api/UNIFIED_GENERATE_API_SUCCESS.md`** - MCP server endpoints and data structures
6. **`docs/implementation/TEMPLATE_SYSTEM_CONSOLIDATION_COMPLETE.md`** - Template system architecture
7. **`docs/deployment/PRODUCTION_GUIDE.md`** - Production deployment status and process
8. **`docs/testing/COMPREHENSIVE_TEST_RESULTS_NOV_2025.md`** - Testing approach and validation

#### **üé® DESIGN INTELLIGENCE FOCUS (KEY DIFFERENTIATOR)**
9. **`docs/guides/ADVANCED_FEATURES_AI_GUIDE.md`** - AI-powered design analysis capabilities
10. **`docs/implementation/AI_ORCHESTRATION_GUIDE.md`** - Multi-modal AI integration patterns

#### **üìã QUICK REFERENCE (AS NEEDED)**
- **`docs/troubleshooting/TROUBLESHOOTING_GUIDE.md`** - Known issues and solutions
- **`docs/testing/FIGMA_TESTING_GUIDE.md`** - Setup and configuration
- **`docs/testing/COMPREHENSIVE_TESTING_GUIDE.md`** - Live Figma integration testing
- **`docs/api/FIGMA_API_EVALUATION_NOVEMBER_2025.md`** - Figma API usage patterns via MCP

### **üéØ STARTUP CHECKLIST:**
**Before ANY work on this project:**
- [ ] Read MASTER_PROJECT_CONTEXT.md (current status)
- [ ] Read FEATURE_ROADMAP_2025.md (strategic direction) 
- [ ] Understand MCP architecture (no direct Figma API)
- [ ] Check current phase completion status
- [ ] Review template system configuration
- [ ] Understand design intelligence capabilities

### **üìä PROJECT STATUS CONTEXT:**
- **Current Phase**: Phase 6 Complete (Advanced Template System)
- **Next Focus**: Phase 7 (Live Figma Integration) 
- **Key Differentiator**: Design Intelligence (AI-powered design analysis)
- **Architecture**: MCP Server + Plugin UI (localhost:3000)
- **Production Status**: Ready for enterprise deployment

### **MANDATORY UPDATE RULE:**
**ALWAYS update `docs/MASTER_PROJECT_CONTEXT.md` after:**
- Major architectural changes
- Phase completions or milestones  
- Git pushes with significant changes
- Architecture decisions or clarifications
- AI service updates (API keys, service availability)

## ‚úÖ **AI INTEGRATION DATA LAYER CONSOLE STATUS**

### **üéØ WORKING COMPONENTS (Verified October 16, 2025)**
- ‚úÖ **MCP Server Pipeline**: Full data layer processing
- ‚úÖ **Enhanced Data Validation**: Schema validation passing
- ‚úÖ **AI Integration Console**: Real-time service status monitoring
- ‚úÖ **Fallback System**: Graceful degradation when AI unavailable
- ‚úÖ **Data Flow Visibility**: Complete pipeline transparency
- ‚úÖ **Professional Output**: High-quality ticket generation

### **üîç AI CONSOLE OUTPUT ANALYSIS**
```
ü§ñ Starting AI-enhanced ticket generation...
üìã Document type: jira
üîÆ AI enabled: true  
üß† AI Services Status: { gemini: false, geminiVision: false, ... }
‚ö†Ô∏è No AI services available, falling back to standard generation
üé´ Generating enhanced tickets for: 0 frames
ü§ù Figma MCP integration: enabled
‚úÖ AI ticket generation successful
```

### **üéØ DATA LAYER CONTEXT CONFIRMED**
The system successfully processes:
- **Enhanced Frame Data**: Component specs, dimensions, colors
- **Screenshot Data**: Base64 encoded images  
- **Tech Stack Context**: Framework and library information
- **Document Type**: Design system classification
- **Template Context**: File and page metadata
- **Accessibility Data**: WCAG compliance information
- **Typography & Spacing**: Complete design token extraction

## üöÄ **VITAL STARTUP SCRIPTS & RUN MODES**

### **üéØ CRITICAL MCP SERVER COMMANDS**
```bash
#### **MCP Server (CRITICAL - Always Start First)**
```bash
# Primary startup method (MVC ARCHITECTURE)
npm run start:server                 # Start app/server/main.js (RECOMMENDED)

# Alternative methods
npm run start:dev                 # Development mode with file watching
npm start                         # Direct server startup
node app/server/main.js           # Direct node execution

# Health check (ALWAYS VERIFY)
curl -s http://localhost:3000/ --max-time 3
lsof -i :3000  # Check if port is in use
```

### **üîß PLUGIN BUILD & TESTING COMMANDS**
```bash
# Build Plugin for Figma (ESSENTIAL)
npm run build:ts                      # TypeScript compilation
./scripts/build.sh                    # Development build
./scripts/bundle-production.sh        # Production bundle

# Testing Commands (COMPREHENSIVE)
npm run test:all                      # Master test orchestrator
npm run test:integration:mcp          # MCP server integration
npm run test:browser:smoke            # Playwright browser tests
npm run health                        # System health check
```

## üö® **ENFORCEMENT**

**If user says "You violated the context rules":**
1. **STOP ALL WORK** immediately
2. **Fix violations** first (move misplaced files)
3. **Re-read context rules**
4. **Ask for confirmation** before proceeding

**Zero tolerance for:**
- Files in wrong locations
- Skipping context rules
- Random file creation
- Architecture violations

---

**üìö Complete rules in:** `docs/MASTER_PROJECT_CONTEXT.md`