# 🤖 AI Assistant Context Rules

## 🚨 **CRITICAL DOCUMENTATION RULE**

**ALL documentation files (.md, README, guides, instructions) MUST be placed in the `docs/` directory.**

## 🧠 **MANDATORY SESSION STARTUP RULE**

### ⚡ **ALWAYS READ FIRST:**
1. **Read `docs/MASTER_PROJECT_CONTEXT.md`** - Complete project context and architecture
2. **Understand MCP server architecture** - Never implement direct Figma API
3. **Check current phase status** - Currently Phase 4 Production Ready
4. **Review documentation standards** - Follow organized structure

### � **MANDATORY UPDATE RULE:**
**ALWAYS update `docs/MASTER_PROJECT_CONTEXT.md` after:**
- Major architectural changes
- Phase completions or milestones
- Git pushes with significant changes
- Architecture decisions or clarifications

### �📁 **Mandatory Directory Structure**

```
docs/
├── MASTER_PROJECT_CONTEXT.md # 🧠 READ FIRST - Complete project context
├── project-phases/          # PHASE_*.md, *_COMPLETE.md
├── testing/                 # *TESTING*.md, TEST_RESULTS.md  
├── deployment/              # PRODUCTION*.md, LAUNCH*.md
├── troubleshooting/         # *FIXES*.md, ARCHITECTURE*.md
├── planning/                # *PLAN*.md, ROADMAP*.md
├── guides/                  # *INSTRUCTIONS*.md, *GUIDE*.md
├── api/                     # API documentation
├── architecture/            # System architecture docs
└── README.md               # Main documentation index
```

### ❌ **NEVER DO THIS**
- Creating .md files in project root: `./SOME_GUIDE.md` ❌
- Scattered documentation files ❌
- Multiple README files outside docs/ ❌
- Creating .ts/.js files in project root without checking architecture ❌
- Random file creation without understanding project structure ❌
- Placing test files outside tests/ directory ❌
- Creating scripts outside scripts/ directory ❌

### ✅ **ALWAYS DO THIS**
1. **Before creating ANY file**: Check project architecture first
2. **Read context rules**: Follow `.ai-context-rules.md` EVERY time
3. **For documentation**: Use proper `docs/` subdirectory structure
4. **For code files**: Check `src/` structure and existing patterns
5. **For test files**: Use `tests/` directory with proper organization
6. **For scripts**: Use `scripts/` directory
7. **Ask user**: If unsure about file placement or structure

### 🎯 **MANDATORY PRE-FILE-CREATION CHECKLIST**
**BEFORE creating ANY file, I MUST:**

1. **Read `.ai-context-rules.md`** - These rules
2. **Check project structure** - Use `list_dir` to understand architecture
3. **Read `docs/MASTER_PROJECT_CONTEXT.md`** - Understand current context
4. **Determine correct location**:
   - Documentation → `docs/[category]/`
   - Code → `src/[module]/` 
   - Tests → `tests/[type]/`
   - Scripts → `scripts/`
   - Plugin code → Check manifest.json and existing patterns
5. **Ask user if unsure** - Never guess file placement
6. **Update context files** - If significant changes made

### 🎯 **Implementation Rule**
When user requests documentation or I need to create guides:
1. **STOP** - Read context rules first
2. Ask: "What type of documentation is this?"
3. Use: Correct `docs/` subdirectory
4. Create: File in proper organized location
5. Update: `docs/MASTER_PROJECT_CONTEXT.md` if significant
6. **NEVER**: Create documentation in project root

### 🚨 **ARCHITECTURE RULE**
**CRITICAL:** This project uses MCP server architecture:
- Plugin UI → HTTP requests → MCP server (localhost:3000) → AI/Figma APIs
- NEVER implement direct Figma API in plugin code
- ALWAYS route through MCP server HTTP endpoints
- MCP server has 4 tools: analyze_project, generate_tickets, check_compliance, generate_enhanced_ticket

## 📝 **File Organization Completed**
- **17 files moved** from root to organized locations
- **Documentation Standards** created as reference
- **Main README updated** with proper links
- **Context rule established** for future consistency

## 🚨 **ENFORCEMENT MECHANISM**

### **If User Says: "You violated the context rules"**
**I MUST:**
1. **Acknowledge violation** immediately 
2. **Stop current work** and fix violations first
3. **Move misplaced files** to correct locations
4. **Clean up** any incorrect file placements
5. **Re-read context rules** before continuing
6. **Ask for confirmation** before proceeding

### **Self-Check Questions (Before ANY file creation):**
- [ ] Did I read `.ai-context-rules.md`?
- [ ] Did I check the project structure with `list_dir`?
- [ ] Do I understand where this file should go?
- [ ] Is this documentation? → Must go in `docs/[category]/`
- [ ] Is this code? → Must follow `src/` structure  
- [ ] Is this a test? → Must go in `tests/`
- [ ] Am I unsure? → Ask the user first

### **Zero Tolerance Policy**
- **No exceptions** to documentation placement rules
- **No random file creation** without context checking
- **No assumptions** about project structure
- **When in doubt** → Ask the user

---
**This rule applies to ALL future file creation! 🚫 No exceptions.**
**Violation response: Stop, fix, ask, then proceed.**